define(["jquery","jqueryCookie"],function($){return function($http){function _setSessionInfo(data){factory.sessionInfo=data}var factory;return factory={host:"http://www.nuclearhorsestudios.com:5894",logIn:function(username,password){var data={username:username,password:password};return $http.post(this.host+"/_session",data).success(_setSessionInfo)},getSession:function(){return $http.get(this.host+"/_session").success(_setSessionInfo)},isLoggedIn:function(){var hasAuthSession=void 0!==$.cookie("AuthSession"),hasSessionInfo=void 0!==factory.sessionInfo.userCtx&&null!==factory.sessionInfo.userCtx.name;return hasAuthSession&&hasSessionInfo},sessionInfo:null},factory.getSession(),factory}});