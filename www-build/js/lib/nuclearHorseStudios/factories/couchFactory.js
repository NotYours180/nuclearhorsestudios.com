define(["jquery","jqueryCookie"],function($){return function($http){function _setSessionInfo(data){factory.sessionInfo=data,factory.checkIfLoggedIn()}var factory;return factory={host:"http://www.nuclearhorsestudios.com:5984",isLoggedIn:!1,logIn:function(username,password){var data={username:username,password:password};return $http.post(this.host+"/_session",data).success(_setSessionInfo)},getSession:function(){return $http.get(this.host+"/_session").success(_setSessionInfo)},checkIfLoggedIn:function(){var hasAuthSession=void 0!==$.cookie("AuthSession"),hasSessionInfo=void 0!==factory.sessionInfo.userCtx&&null!==factory.sessionInfo.userCtx.name;return this.isLoggedIn=hasAuthSession&&hasSessionInfo,factory.isLoggedIn},sessionInfo:null},factory.getSession(),factory}});