define([],function(){return function($scope,blogData){var isPosting=!1;$scope.$on("setBlogPost",function(ev,post){$scope.post=post}),$scope.onAddSuccess=function(){$scope.resetPost(),$scope.status="Post Successful!"},$scope.onAddError=function(data,status){$scope.status=status+" - "+data.error+":"+data.reason},$scope.savePost=function(){return $scope.addForm.$valid?($scope.isPosting!==!0&&(isPosting=!0,$scope.post.date=(new Date).getTime(),$scope.status="Submitting form ...",blogData.add($scope.post).success($scope.onAddSuccess).error($scope.onAddError).finally(function(){isPosting=!1})),void 0):($scope.status="Form Invalid",void 0)},$scope.resetPost=function(){$scope.post={},$scope.post.date=(new Date).getTime(),$scope.post.type="blogpost",$scope.status=""},$scope.resetPost()}});