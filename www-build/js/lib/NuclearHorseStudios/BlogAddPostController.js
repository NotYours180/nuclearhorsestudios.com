define([],function(){return function($scope,blogData){var isPosting=!1;$scope.$on("setBlogPost",function(ev,post){$scope.post=post}),$scope.savePost=function(scope){return scope.addForm.$valid?(isPosting!==!0&&(isPosting=!0,scope.post.date=(new Date).getTime(),scope.status="Submitting form ...",blogData.add(scope.post).success(function(){scope.resetPost(),scope.status="Post Successful!"}).error(function(data,status){scope.status=status+" - "+data.error+":"+data.reason}).finally(function(){isPosting=!1})),void 0):(scope.status="Form Invalid",void 0)},$scope.resetPost=function(){$scope.post={},$scope.post.date=(new Date).getTime(),$scope.post.type="blogpost",$scope.status=""},$scope.resetPost()}});