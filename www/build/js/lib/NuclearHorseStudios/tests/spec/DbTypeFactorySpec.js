define(["DbTypeFactory"],function(e){describe("DbTypeFactory",function(){var t,n,r,i,s,o;beforeEach(function(){n={get:function(){},post:function(){}},r="blogpost",i="http://nuclearhorsestudios.com",s="nuclearhorseblog",o="_design/blog",t=e(r,i,s,o)(n)}),describe("add",function(){it("Calls $http.post with the correct url for adding data",function(){spyOn(n,"post").andCallFake(function(e){expect(e).toBe(i+"/"+s)});var e=t.add({some:"data"})})}),describe("getAll",function(){it("Calls $http.get with the correct url for all records",function(){spyOn(n,"get").andCallFake(function(e){expect(e).toBe(i+"/"+s+"/"+o+"/_view/"+r+"?descending=true")});var e=t.getAll()})}),describe("getRecent",function(){it("Calls $http.get with the correct url for the 5 most recent records",function(){spyOn(n,"get").andCallFake(function(e){expect(e).toBe(i+"/"+s+"/"+o+"/_view/"+r+"?limit=5&descending=true")});var e=t.getRecent(5)})}),describe("getPage",function(){var e;beforeEach(function(){e=spyOn(n,"get")}),it("Calls $http.get with the correct url for retrieving the first page, 10 results per page",function(){var n=i+"/"+s+"/"+o+"/_view/"+r+"?skip=0&limit=10&descending=true",u=t.getPage(1,10);expect(e).toHaveBeenCalledWith(n)}),it("Calls $http.get with the correct url for retrieving the third page, 4 results per page",function(){var n=i+"/"+s+"/"+o+"/_view/"+r+"?skip=8&limit=4&descending=true",u=t.getPage(3,4);console.log(n),expect(e).toHaveBeenCalledWith(n)})})})});