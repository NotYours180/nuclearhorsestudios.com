/**
 * @license AngularJS v1.2.0-rc.2
 * (c) 2010-2012 Google, Inc. http://angularjs.org
 * License: MIT
 */

(function(e,t,n){var r=t.$$minErr("$resource");t.module("ngResource",["ng"]).factory("$resource",["$http","$parse","$q",function(e,i,s){function p(e){return d(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function d(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function v(e,t){this.template=e,this.defaults=t||{},this.urlParams={}}function m(i,p,d){function y(e,t){var n={};return t=f({},p,t),a(t,function(t,r){c(t)&&(t=t()),n[r]=t&&t.charAt&&t.charAt(0)=="@"?h(e,t.substr(1)):t}),n}function b(e){return e.resource}function w(e){l(e||{},this)}var g=new v(i);return d=f({},o,d),a(d,function(i,o){var h=/^(POST|PUT|PATCH)$/i.test(i.method);w[o]=function(o,p,d,v){var m={},E,S,x;switch(arguments.length){case 4:x=v,S=d;case 3:case 2:if(!c(p)){m=o,E=p,S=d;break}if(c(o)){S=o,x=p;break}S=p,x=d;case 1:c(o)?S=o:h?E=o:m=o;break;case 0:break;default:throw r("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var T=E instanceof w,N=T?E:i.isArray?[]:new w(E),C={},k=i.interceptor&&i.interceptor.response||b,L=i.interceptor&&i.interceptor.responseError||n;a(i,function(e,t){t!="params"&&t!="isArray"&&t!="interceptor"&&(C[t]=l(e))}),C.data=E,g.setUrlParams(C,f({},y(E,i.params||{}),m),i.url);var A=e(C).then(function(e){var n=e.data,s=N.$promise;if(n){if(t.isArray(n)!=!!i.isArray)throw r("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",i.isArray?"array":"object",t.isArray(n)?"array":"object");i.isArray?(N.length=0,a(n,function(e){N.push(new w(e))})):(l(n,N),N.$promise=s)}return N.$resolved=!0,(S||u)(N,e.headers),e.resource=N,e},function(e){return N.$resolved=!0,(x||u)(e),s.reject(e)}).then(k,L);return T?A:(N.$promise=A,N.$resolved=!1,N)},w.prototype["$"+o]=function(e,t,n){c(e)&&(n=t,t=e,e={});var r=w[o](e,this,t,n);return r.$promise||r}}),w.bind=function(e){return m(i,f({},p,e),d)},w}var o={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},u=t.noop,a=t.forEach,f=t.extend,l=t.copy,c=t.isFunction,h=function(e,t){return i(t)(e)};return v.prototype={setUrlParams:function(e,n,r){var i=this,s=r||i.template,o,u,f=i.urlParams={};a(s.split(/\W/),function(e){!(new RegExp("^\\d+$")).test(e)&&e&&(new RegExp("(^|[^\\\\]):"+e+"(\\W|$)")).test(s)&&(f[e]=!0)}),s=s.replace(/\\:/g,":"),n=n||{},a(i.urlParams,function(e,r){o=n.hasOwnProperty(r)?n[r]:i.defaults[r],t.isDefined(o)&&o!==null?(u=p(o),s=s.replace(new RegExp(":"+r+"(\\W|$)","g"),u+"$1")):s=s.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){return n.charAt(0)=="/"?n:t+n})}),s=s.replace(/\/+$/,""),s=s.replace(/\/\.(?=\w+($|\?))/,"."),e.url=s.replace(/\/\\\./,"/."),a(n,function(t,n){i.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},m}])})(window,window.angular);